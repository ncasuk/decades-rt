function getparas,start,stop,paramscommon horace,sock,outd,host,port,derindex,dercount,mapstatus,status,fltnoif start GT 0 THEN BEGIN    start=derindex-long((long(status(0))-start)/3)    if start LT 0 THEN start=1    if start GT derindex THEN start=derindexENDIFif stop GT 0 THEN BEGIN            stop=derindex-long((long(status(0))-stop)/3)            if stop LT start THEN stop=start            if stop GT derindex THEN stop=derindexENDIFif start EQ -2 THEN start=1info,start,stopoutd(0:3)=byte("PARA")np=n_elements(params)q=lonarr(np+3)q(0)=startq(1)=stopq(2)=npq(3:np+2)=paramsdata_convert,q,to='unix',type='Long'outd(4:(np+4)*4-1)=byte(q,0,(np+3)*4)socket_write,sock,outdreadstatusb=bytarr(8)nb=socket_read(sock,b)data_convert,b,from='unix',type='long'inum=b(1)data=bytarr(inum*np*4)nb=socket_read(sock,data)data_convert,data,from='unix',type='float'data=transpose(reform(data,inum,np))return,dataend